<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Defensas Contra CSRF - Inicio</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <style>
      .hero {
        background: linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%);
        color: white;
        padding: 60px 0;
      }
      .card:hover {
        transform: translateY(-5px);
        transition: transform 0.2s;
        box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2);
      }
      .badge-port {
        font-size: 0.9rem;
        padding: 0.4rem 0.8rem;
      }
    </style>
  </head>
  <body>
    <div class="hero">
      <div class="container text-center">
        <h1 class="display-3 fw-bold">ğŸ›¡ï¸ Las 3 Defensas Contra CSRF</h1>
        <p class="lead mt-3">
          Demos educativos interactivos de las principales protecciones contra
          Cross-Site Request Forgery
        </p>
        <p class="mt-2">
          <small>Desarrollo Seguro 2025 - Demo Local</small>
        </p>
      </div>
    </div>

    <div class="container py-5">
      <div class="alert alert-info">
        <h5>ğŸ“ GuÃ­a para tu presentaciÃ³n</h5>
        <p class="mb-0">
          Ejecuta cada defensa con <code>npm run defense:[nombre]</code> y
          visita la URL correspondiente. Cada demo incluye documentaciÃ³n
          completa e interactiva.
        </p>
      </div>

      <div class="row mb-5">
        <div class="col-md-12">
          <h3 class="mb-4">ğŸ“ NavegaciÃ³n RÃ¡pida</h3>
        </div>

        <!-- Defensa 1: Token CSRF -->
        <div class="col-md-4 mb-4">
          <div class="card h-100 shadow-sm">
            <div class="card-header bg-success text-white">
              <h5 class="mb-0">ğŸ” Defensa 1: Token Anti-CSRF</h5>
            </div>
            <div class="card-body">
              <p class="card-text">
                <strong>La defensa clÃ¡sica</strong> - El estÃ¡ndar de la
                industria
              </p>
              <ul class="small">
                <li>Tokens Ãºnicos por sesiÃ³n</li>
                <li>Secreto compartido</li>
                <li>Usado por frameworks populares</li>
              </ul>
              <div class="mt-3">
                <span class="badge bg-success badge-port">Puerto 3010</span>
              </div>
              <hr />
              <p class="small mb-2">
                <strong>Ejecutar:</strong>
              </p>
              <code class="small">npm run defense:token</code>
              <div class="mt-3">
                <a
                  href="http://localhost:3010"
                  class="btn btn-success btn-sm"
                  target="_blank"
                  >Abrir Demo â†’</a
                >
              </div>
            </div>
          </div>
        </div>

        <!-- Defensa 2: SameSite -->
        <div class="col-md-4 mb-4">
          <div class="card h-100 shadow-sm">
            <div class="card-header bg-primary text-white">
              <h5 class="mb-0">ğŸª Defensa 2: Cookies SameSite</h5>
            </div>
            <div class="card-body">
              <p class="card-text">
                <strong>La defensa moderna</strong> - ProtecciÃ³n del navegador
              </p>
              <p class="small mb-2"><strong>3 variantes:</strong></p>
              <ul class="small">
                <li><strong>Strict:</strong> Bloqueo total (3020)</li>
                <li><strong>Lax:</strong> Inteligente â­ (3021)</li>
                <li><strong>None:</strong> Sin protecciÃ³n (3022)</li>
              </ul>
              <div class="mt-3">
                <span class="badge bg-danger badge-port me-1">3020</span>
                <span class="badge bg-primary badge-port me-1">3021 â­</span>
                <span class="badge bg-warning text-dark badge-port">3022</span>
              </div>
              <hr />
              <p class="small mb-2">
                <strong>Ejecutar (Lax recomendado):</strong>
              </p>
              <code class="small">npm run defense:lax</code>
              <div class="mt-3">
                <a
                  href="http://localhost:3021"
                  class="btn btn-primary btn-sm me-2"
                  target="_blank"
                  >Ver Comparativa â†’</a
                >
              </div>
            </div>
          </div>
        </div>

        <!-- Defensa 3: Headers -->
        <div class="col-md-4 mb-4">
          <div class="card h-100 shadow-sm">
            <div class="card-header bg-info text-white">
              <h5 class="mb-0">ğŸ“§ Defensa 3: VerificaciÃ³n Headers</h5>
            </div>
            <div class="card-body">
              <p class="card-text">
                <strong>La defensa intuitiva</strong> - Verificar el remitente
              </p>
              <ul class="small">
                <li>Valida Origin y Referer</li>
                <li>Lista blanca de dominios</li>
                <li>FÃ¡cil de entender y explicar</li>
              </ul>
              <div class="mt-3">
                <span class="badge bg-info badge-port">Puerto 3030</span>
              </div>
              <hr />
              <p class="small mb-2">
                <strong>Ejecutar:</strong>
              </p>
              <code class="small">npm run defense:headers</code>
              <div class="mt-3">
                <a
                  href="http://localhost:3030"
                  class="btn btn-info btn-sm"
                  target="_blank"
                  >Abrir Demo â†’</a
                >
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Comparativa -->
      <div class="row">
        <div class="col-md-12">
          <h3 class="mb-4">ğŸ“Š Tabla Comparativa</h3>
          <div class="table-responsive">
            <table class="table table-bordered">
              <thead class="table-light">
                <tr>
                  <th>Defensa</th>
                  <th>Puerto</th>
                  <th>Complejidad</th>
                  <th>Impacto UX</th>
                  <th>Compatibilidad</th>
                  <th>Mejor para...</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td><strong>ğŸ” Token CSRF</strong></td>
                  <td>3010</td>
                  <td>Media</td>
                  <td>Bajo</td>
                  <td>âœ… Universal</td>
                  <td>EstÃ¡ndar de la industria</td>
                </tr>
                <tr class="table-success">
                  <td><strong>ğŸª SameSite=Lax</strong> â­</td>
                  <td>3021</td>
                  <td>Muy baja</td>
                  <td>Ninguno</td>
                  <td>âœ… Moderna</td>
                  <td><strong>MayorÃ­a de apps web</strong></td>
                </tr>
                <tr>
                  <td><strong>ğŸ”’ SameSite=Strict</strong></td>
                  <td>3020</td>
                  <td>Muy baja</td>
                  <td>Medio</td>
                  <td>âœ… Moderna</td>
                  <td>Apps de alta seguridad</td>
                </tr>
                <tr class="table-warning">
                  <td><strong>âš ï¸ SameSite=None</strong></td>
                  <td>3022</td>
                  <td>Muy baja</td>
                  <td>Ninguno</td>
                  <td>âš ï¸ Requiere HTTPS</td>
                  <td>Widgets/SSO (+ tokens)</td>
                </tr>
                <tr>
                  <td><strong>ğŸ“§ Origin/Referer</strong></td>
                  <td>3030</td>
                  <td>Baja</td>
                  <td>Ninguno</td>
                  <td>âœ… Universal</td>
                  <td>ValidaciÃ³n complementaria</td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>

      <!-- Demo del Ataque -->
      <div class="row mt-4">
        <div class="col-md-12">
          <div class="card border-danger">
            <div class="card-header bg-danger text-white">
              <h5 class="mb-0">ğŸ’€ DemostraciÃ³n del Ataque CSRF</h5>
            </div>
            <div class="card-body">
              <p>
                <strong>Para demostrar cÃ³mo funciona el ataque,</strong> ejecuta
                estas dos aplicaciones:
              </p>
              <div class="row">
                <div class="col-md-6">
                  <h6>ğŸ”´ AplicaciÃ³n Vulnerable (Puerto 3000)</h6>
                  <code>npm run start:vulnerable</code>
                  <p class="small mt-2">
                    <a href="http://localhost:3000" target="_blank"
                      >http://localhost:3000</a
                    >
                  </p>
                </div>
                <div class="col-md-6">
                  <h6>ğŸ’€ Sitio Atacante (Puerto 3001)</h6>
                  <code>npm run start:attacker</code>
                  <p class="small mt-2">
                    <a href="http://localhost:3001" target="_blank"
                      >http://localhost:3001</a
                    >
                  </p>
                </div>
              </div>
              <hr />
              <p class="small mb-0">
                <strong>Flujo:</strong> Inicia sesiÃ³n en 3000 â†’ Visita 3001 â†’
                Observa cÃ³mo tu saldo disminuye sin tu consentimiento
              </p>
            </div>
          </div>
        </div>
      </div>

      <!-- Recomendaciones -->
      <div class="row mt-5">
        <div class="col-md-6">
          <div class="card bg-light h-100">
            <div class="card-body">
              <h5>ğŸ’¡ Mejor PrÃ¡ctica</h5>
              <p class="mb-0">
                Combinar <strong>SameSite=Lax + Tokens CSRF</strong> ofrece
                defensa en profundidad:
              </p>
              <ul class="mt-2">
                <li>SameSite protege la mayorÃ­a de casos (una lÃ­nea)</li>
                <li>Tokens protegen navegadores antiguos</li>
                <li>Dos capas = MÃ¡xima seguridad</li>
              </ul>
            </div>
          </div>
        </div>
        <div class="col-md-6">
          <div class="card bg-light h-100">
            <div class="card-body">
              <h5>ğŸ“ Orden para PresentaciÃ³n</h5>
              <ol class="mb-0">
                <li>Explica quÃ© es CSRF (5 min)</li>
                <li>Demuestra el ataque en vivo (10 min)</li>
                <li><strong>Token CSRF</strong> - La clÃ¡sica (5 min)</li>
                <li><strong>SameSite=Lax</strong> - La moderna â­ (5 min)</li>
                <li><strong>Headers</strong> - La intuitiva (5 min)</li>
                <li>Conclusiones y mejor prÃ¡ctica (5 min)</li>
              </ol>
            </div>
          </div>
        </div>
      </div>

      <!-- AnalogÃ­as -->
      <div class="row mt-4">
        <div class="col-md-12">
          <div class="alert alert-primary">
            <h6>ğŸ—ï¸ AnalogÃ­as Ãºtiles para tu presentaciÃ³n:</h6>
            <div class="row">
              <div class="col-md-4">
                <p class="mb-0">
                  <strong>Token CSRF:</strong> Como una llave secreta que solo
                  tÃº y el banco conocen
                </p>
              </div>
              <div class="col-md-4">
                <p class="mb-0">
                  <strong>SameSite:</strong> Un guardiÃ¡n del navegador que
                  decide cuÃ¡ndo enviar credenciales
                </p>
              </div>
              <div class="col-md-4">
                <p class="mb-0">
                  <strong>Headers:</strong> Verificar el remitente del sobre
                  antes de procesar
                </p>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Credenciales -->
      <div class="row mt-4">
        <div class="col-md-12">
          <div class="alert alert-secondary">
            <h6>ğŸ”‘ Credenciales de Prueba</h6>
            <p class="mb-0">
              Todas las demos usan: <strong>Usuario:</strong> <code>ana</code> |
              <strong>ContraseÃ±a:</strong> <code>contrasena</code> |
              <strong>Saldo inicial:</strong> $1000
            </p>
          </div>
        </div>
      </div>
    </div>

    <footer class="bg-dark text-white text-center py-4 mt-5">
      <div class="container">
        <p class="mb-2">ğŸ›¡ï¸ Demo CSRF - Las 3 Defensas Fundamentales</p>
        <small>Desarrollo Seguro 2025 - Proyecto Educativo Local</small>
      </div>
    </footer>
  </body>
</html>
